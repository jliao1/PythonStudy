for c in str:
    num = num * 10 + ord(c) - ord('0')